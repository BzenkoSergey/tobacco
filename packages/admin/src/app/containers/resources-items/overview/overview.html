<div class="container-fluid h-100">
	<div class="row h-100 flex-nowrap">
		<side-nav class="col-sm h-100">
			<div class="p-3">
				<form (submit)="search()">
					<div class="form-group">
						<label
							class="small text-uppercase text-muted"
							for="search">
							Search
						</label>
						<div class="input-group input-group-sm">
							<input
								id="search"
								type="search"
								class="form-control"
								name="search"
								placeholder="Search"
								[(ngModel)]="searchQuery">

							<div class="input-group-append">
								<button
									class="btn btn-outline-secondary"
									type="submit">
									<i class="fas fa-search"></i>
								</button>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label
							class="small text-uppercase text-muted"
							for="resource">
							Resource
						</label>
						<select
							id="resource"
							name="resource"
							class="form-control form-control-sm"
							[(ngModel)]="resource"
							(ngModelChange)="selectResource()">
							<option value="">All</option>
							<option
								*ngFor="let item of resources"
								[value]="item._id">
								{{item.name}}
							</option>
						</select>
					</div>

					<div class="form-group">
						<label
							class="small text-uppercase text-muted"
							for="sortBy">
							Sort By
						</label>
						<div class="input-group input-group-sm">
							<input
								id="sortBy"
								type="text"
								class="form-control"
								name="sortBy"
								placeholder="Sort By"
								[(ngModel)]="sortBy">

							<div class="input-group-append">
								<button
									class="btn btn-outline-secondary"
									type="button"
									(click)="applyFilters()">
									<i class="fas fa-chevron-circle-right"></i>
								</button>
							</div>
						</div>
					</div>

					<div class="form-group">
						<label class="small text-uppercase text-muted">
							Sort Direction
						</label>
						<div class="btn-group btn-group-sm">
							<button
								type="button"
								class="btn"
								[class.btn-secondary]="sortDirection !== 'up'"
								[class.btn-primary]="sortDirection === 'up'"
								(click)="sortDirection = 'up';applyFilters()">
								Up
							</button>
							<button
								type="button"
								class="btn"
								[class.btn-secondary]="sortDirection !== 'down'"
								[class.btn-primary]="sortDirection === 'down'"
								(click)="sortDirection = 'down';applyFilters()">
								Down
							</button>
						</div>
					</div>

					<div class="form-group">
						<label class="small text-uppercase text-muted">Actions</label>
						<div class="btn-group btn-group-sm">
							<button type="button" class="btn btn-secondary">Left</button>
							<button type="button" class="btn btn-secondary">Middle</button>
							<button type="button" class="btn btn-secondary">Right</button>
						</div>
					</div>

					<div class="form-group">
						<label class="small text-uppercase text-muted">Main</label>
						<select class="form-control form-control-sm">
							<option selected>Open this select menu</option>
							<option value="1">One</option>
							<option value="2">Two</option>
							<option value="3">Three</option>
						</select>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>
						<div class="form-check">
							<input type="checkbox" class="form-check-input" id="exampleCheck1">
							<label class="form-check-label" for="exampleCheck1">Check me out</label>
						</div>
						<div class="form-check">
							<input type="checkbox" class="form-check-input" id="exampleCheck1">
							<label class="form-check-label" for="exampleCheck1">Check me out</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>

					<div class="form-group">
						<h6 class="small text-uppercase text-muted">Options</h6>

						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
							<label class="form-check-label" for="exampleRadios1">
								Default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
							<label class="form-check-label" for="exampleRadios2">
								Second default radio
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
							<label class="form-check-label" for="exampleRadios3">
								Disabled radio
							</label>
						</div>
					</div>
				</form>
			</div>
		</side-nav>


		<div class="col-sm h-100 p-2 overflow">
			<div class="list-group mb-2 mw-100">
				<div
					*ngFor="let v of getGroups()"
					class="list-group-item p-2 mw-100">

					<div class="d-flex align-items-center pl-1 pr-1 bg-light">
						<b class="badge badge-secondary">Versions: {{versions.get(v).length}}</b>
						<a
							class="btn btn-link btn-sm"
							[routerLink]="['/resources', versions.get(v)[0].resource]">
							Resource
						</a>
						<a
							class="btn btn-link btn-sm"
							[routerLink]="['/resources', versions.get(v)[0].resource, 'schemes']">
							Schemes
						</a>
					</div>
					<div class="d-flex flex-nowrap overflow">
						<div
							*ngFor="let item of versions.get(v); first as isFirst"
							class="col-12 p-0 mr-3 border-right">
							<div *ngIf="getProps(item) as props">
								<div *ngFor="let prop of props">
									<small [class.text-danger]="isUpdated(v, item, prop)">
										<b>{{prop}}</b>: {{getValue(item, prop)}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
